@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix swrl: <http://www.w3.org/2003/11/swrl#> .
@prefix swrlb: <http://www.w3.org/2003/11/swrlb#> .
@prefix spin:    <http://spinrdf.org/spin#> .
@prefix spl:     <http://spinrdf.org/spl#> .
@prefix LLM4BI: <http://www.foo.bar/LLM4BI/ontologies/LLM4BI#> .
@base <http://www.foo.bar/LLM4BI/ontologies/LLM4BI> .

<http://www.foo.bar/LLM4BI/ontologies/LLM4BI> rdf:type owl:Ontology .


LLM4BI:DFMConcept rdf:type owl:Class ;
    rdfs:comment "A concept within the Dimensional Fact Model" .

LLM4BI:Fact rdfs:subClassOf LLM4BI:DFMConcept ;
    rdfs:comment "A fact is a concept relevant to decision making processes. It typically models a set of events taking place within a company (e.g., sales, shipments, purchases, ...). A fact has dynamic properties or evolves in some way over time"

LLM4BI:ConformedHierarchyRoot rdfs:subClassOf LLM4BI:Attribute ;
    rdfs:comment "The root attribute of a conformed hierarchy" .

LLM4BI:ConformedAttribute rdfs:subClassOf LLM4BI:Attribute ;
    rdfs:comment "An attribute shared across multiple hierarchies and maintaining the same meaning, domain of values, and granularity" .

LLM4BI:Measure rdfs:subClassOf LLM4BI:DFMConcept ;
    rdfs:comment "A measure is a numerical property of a fact and describes a quantitative fact aspect that is relevant to analysis (e.g., every sale is quantified by its receipts)" .

LLM4BI:Attribute  rdfs:subClassOf LLM4BI:DFMConcept ;
    rdfs:comment "An attribute is a descriptive property of a fact or a dimension that is relevant to analysis (e.g., every sale is described by the date when it took place, the product sold, the customer who bought it, etc.)" .

LLM4BI:Arc a owl:ObjectProperty ;
  rdfs:domain [
    a owl:Class ;
    owl:unionOf (
      LLM4BI:Attribute
      LLM4BI:Fact
    )
  ] ;
  rdfs:range [
    a owl:Class ;
    owl:unionOf (
      LLM4BI:Attribute
      LLM4BI:Measure
    )
  ] ;
  rdfs:comment "An arc connecting entities within a Dimensional Fact Model schema. In presence of an arc from A to B, the user can roll-up from A to B or drill-down from B to A. Arcs are transitive: in presence of an arc from A to B and from B to C, then the user can roll-up from A to C or drill-down from C to A. In the case of branches (i.e., there is an arc from A to B and from A to C, but not from B to C), then B and C are in a many-to-many relationship, but there is no roll-up or drill-down relationship between them." ;
  rdfs:label "" .

LLM4BI:RollUpArc a owl:ObjectProperty ;
  rdfs:subPropertyOf LLM4BI:Arc ;
  rdfs:comment "Represents a functional dependency between two attributes connected by a many-to-one relationship (e.g., if one product belongs to one type, there is an arc from product to the type attribute)." ; 
  rdfs:label "" .

LLM4BI:MultipleArc a owl:ObjectProperty ;
    rdfs:subPropertyOf LLM4BI:Arc ;
    rdfs:comment "Represents a many-to-many-relationship between two attributes (e.g., if one book has several authors and an author writes several books, there is a multiple arc between author and book)" ;
    rdfs:label "MultipleArc" .

LLM4BI:OptionalArc a owl:ObjectProperty ;
    rdfs:subPropertyOf LLM4BI:Arc ;
    rdfs:comment "An optional arc between two entities (e.g.,  there is an optional arc from Product to Diet_Y/N because Diet_Y/N has no value for some product)" ;
    rdfs:label "OptionalArc" .

LLM4BI:AggregationOperator a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:Measure ;
  rdfs:comment "An operator that can be used to aggregate a measure along one hierarchy (e.g., SUM, AVG, MIN, MAX)" ;
  rdfs:range xsd:string .

LLM4BI:LogicalName a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "The name of an attribute/measure within the logical schema" ;
  rdfs:range xsd:string .

LLM4BI:Description a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "A description for what a DFM concept represents in the business logic" ;
  rdfs:range xsd:string .

LLM4BI:SampleValues a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "A set of sample values for an attribute" ;
  rdfs:range xsd:string .

LLM4BI:isShared a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "A shared hierarchy denotes that a part of a hierarchy is used twice or more within a fact schema." ;
  rdfs:range xsd:boolean .

LLM4BI:isCrossDimensional a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "A cross-dimensional attribute is functionally determined by two or more attributes together, possibly belonging to different hierarchies." ;
  rdfs:range xsd:boolean .

LLM4BI:isDescriptive a owl:DataTypeProperty ;
  rdfs:domain LLM4BI:DFMConcept ;
  rdfs:comment "A descriptive attribute stores additional information about another attribute; it should not be used for aggregation, because it has a dense domain and/or it is the child of a one-to-one association.";
  rdfs:range xsd:boolean .